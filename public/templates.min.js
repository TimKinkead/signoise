angular.module("app").run(["$templateCache",function(a){a.put("modules/main/dashboard/parts/dev-buttons.html",'<div class="btn-group" style="margin: 0 2px 0"><button ng-click="pullTwitter()" class="btn btn-default">Pull Twitter</button> <button ng-click="pullFacebook()" class="btn btn-default">Pull Facebook</button></div><div class="btn-group" style="margin: 0 2px 0"><button ng-click="processNgrams()" class="btn btn-default">Process Ngrams</button> <button ng-click="processSentiment()" class="btn btn-default">Process Sentiment</button></div><div class="btn-group" style="margin: 0 2px 0"><button ng-click="initDistricts()" class="btn btn-default">Init Districts</button> <button ng-click="initTopics()" class="btn btn-default">Init Topics</button></div><div class="btn-group" style="margin: 0 2px 0"><button ng-click="updateDistrictRelatedSocialMedia()" class="btn btn-default">Update District Related Social Media</button></div>'),a.put("modules/main/dashboard/parts/form.html",'<form class="form-inline" style="margin-bottom: 5px"><div class="form-group"><label class="text-right" style="width: 70px">Topic:</label><select ng-model="params.topic" class="form-control" style="min-width: 250px; cursor: pointer"><option ng-if="topics.$resolved" ng-repeat="topic in topics" value="{{topic._id}}">{{topic.name|capitalize}}</option></select></div><div ng-if="status.processingTopics" class="spinner-sm form-group"></div></form><form class="form-inline" style="margin-bottom: 5px"><div class="form-group"><label class="text-right" style="width: 70px">Channel:</label><select ng-model="params.channel" class="form-control" style="min-width: 250px; cursor: pointer"><option ng-repeat="channel in channels" value="{{channel}}">{{channel|capitalize}}</option></select></div><div ng-if="status.processingChannels" class="spinner-sm form-group"></div></form><form ng-if="[\'district social media\', \'district related social media\'].indexOf(params.channel) > -1" class="form-inline" style="margin-bottom: 5px"><div class="form-group"><label class="text-right" style="width: 70px">State:</label><select ng-model="params.state" class="form-control" style="min-width: 250px; cursor: pointer"><option ng-repeat="state in states" value="{{state._id}}">{{state._id|uppercase}}</option></select></div><div ng-if="status.processingStates" class="spinner-sm form-group"></div></form><form ng-if="params.state && [\'district social media\', \'district related social media\'].indexOf(params.channel) > -1" class="form-inline" style="margin-bottom: 5px"><div class="form-group"><label class="text-right" style="width: 70px">County:</label><select ng-model="params.county" class="form-control" style="min-width: 250px; cursor: pointer"><option ng-repeat="county in counties" value="{{county._id}}">{{county._id|capitalize}}</option></select></div><div ng-if="status.processingCounties" class="spinner-sm form-group"></div></form><div class="container" style="margin-top: 10px; max-width: 800px"><rzslider rz-slider-model="slider.min" rz-slider-high="slider.max" rz-slider-options="slider.options"></rzslider></div>'),a.put("modules/main/dashboard/parts/map.html",'<h3 class="text-center">Heatmap</h3><div style="width: 80%; height: 500px; border: 16px solid #f3f3f3; margin: 0 10%"></div>'),a.put("modules/main/dashboard/parts/messages.html",'<div ng-if="successMessages.length" class="container" style="max-width: 750px"><div ng-repeat="message in successMessages" class="alert alert-success" style="margin: 10px 0 0"><span ng-click="closeSuccessMessage($index)" class="close">&times</span> {{message}}</div></div><div ng-if="errorMessages.length" class="container" style="max-width: 750px"><div ng-repeat="message in errorMessages" class="alert alert-danger" style="margin: 10px 0 0"><span ng-click="closeErrorMessage($index)" class="close">&times</span> <span ng-bind-html="message"></span></div></div>'),a.put("modules/main/dashboard/parts/metrics.html",'<h3>Summary</h3><span ng-if="status.processingAnalysis" class="spinner-sm"></span><div ng-if="!status.processingAnalysis && analysis.$resolved"><ul><li>documents analyzed = {{(analysis.count) ? analysis.count : 0}}</li><li>average sentiment = {{(analysis.sentiment) ? (analysis.sentiment.average|percentage) : \'n/a\'}}</li></ul></div><h3>Sentiment</h3><span ng-if="status.processingAnalysis" class="spinner-sm"></span><div ng-if="!status.processingAnalysis && analysis.$resolved && analysis.sentiment"><div class="btn-group" style="width: 100%"><button ng-repeat="option in sentimentOptions" class="btn btn-default" ng-style="{\'background-color\': sentimentConfig[option].color, width: getSentimentWidth(option)}" style="height: 100px; min-width: 5%; max-width: 80%">{{sentimentConfig[option].title}}<br>{{(analysis.sentiment[option]/analysis.count)|percentage}}</button></div></div><div ng-if="!status.processingAnalysis && analysis.$resolved && !analysis.sentiment">No Sentiment Results</div><h3>Ngrams</h3><span ng-if="status.processingAnalysis" class="spinner-sm"></span><div ng-if="!status.processingAnalysis && analysis.$resolved && analysis.ngrams" class="row"><div ng-repeat="option in sentimentOptions" class="col-xs-4"><button ng-repeat="ngram in analysis.ngrams[option].all | orderBy: \'-frequency\' | limitTo: 50" ng-style="{\'background-color\': sentimentConfig[option].color, \'-webkit-filter\': sentimentConfig[option].filter(1 / (analysis.ngrams[option].maxFreq - analysis.ngrams[option].minFreq) * (ngram.frequency - analysis.ngrams[option].minFreq))}" class="btn btn-default small" style="margin: 1px">{{ngram.word}}</button></div></div><div ng-if="!status.processingAnalysis && analysis.$resolved && !analysis.ngrams">No Ngram Results</div>'),a.put("modules/main/dashboard/parts/user-alerts.html",'<div ng-if="user && !user.twitter" class="alert alert-danger text-center" role="alert" style="max-width:500px; margin: 10px auto 0"><p>Please connect your Twitter account.</p><button ng-click="connectTwitter()" class="btn btn-info" style="margin-top:5px">Connect Twitter</button></div><div ng-if="user && user.twitter && !user.facebook" class="alert alert-danger text-center" role="alert" style="max-width:500px; margin: 10px auto 0"><p>Please connect your Facebook account.</p><button ng-click="connectFacebook()" class="btn btn-info" style="margin-top:5px">Connect Facebook</button></div>'),a.put("modules/main/dashboard/view.html",'<div class="jumbotron" style="background: #677F71; margin-bottom: 0"><h1 class="text-center" style="color: whitesmoke">Dashboard</h1><div ng-include="\'modules/main/dashboard/parts/user-alerts.html\'" class="container" style="margin-bottom: 0"></div></div><div ng-if="envVar.SERVER === \'local\' || envVar.PORT === \'3000\' || successMessages.length || errorMessages.length" class="jumbotron" style="background: #334039; margin-bottom: 0"><div ng-include="\'modules/main/dashboard/parts/dev-buttons.html\'" class="text-center"></div><div ng-include="\'modules/main/dashboard/parts/messages.html\'" class="container"></div></div><div ng-include="\'modules/main/dashboard/parts/form.html\'" class="jumbotron text-center" style="background: #9ABFAA; margin-bottom: 0"></div><div class="jumbotron" style="background: white; margin-bottom: 0"><div ng-include="\'modules/main/dashboard/parts/metrics.html\'" class="container"></div></div><div ng-include="\'modules/main/dashboard/parts/map.html\'" class="jumbotron" style="background: #B9E5CC; margin-bottom: 0"></div>'),a.put("modules/main/districts/create/view.html",'<div class="modal-header"><span class="close" ng-click="cancel()">&times;</span><h3 class="modal-title">Create District</h3></div><div class="modal-body"><p>Not set up yet.</p></div>'),a.put("modules/main/districts/edit/view.html",'<div class="modal-header"><span class="close" ng-click="cancel()">&times;</span><h3 class="modal-title">{{fullDistrict.name}}</h3></div><div class="modal-body"><div ng-if="status.processing" class="spinner"></div><div ng-show="status.errorMessage" class="alert alert-danger" role="alert">{{status.errorMessage}}</div><div ng-show="status.successMessage" class="alert alert-success" role="alert">{{status.successMessage}}</div><div ng-if="!display.facebookResults"><table class="table table-bordered"><tbody><tr ng-repeat="field in fields"><td><strong>{{field}}</strong></td><td><span ng-if="[\'state\', \'website\', \'facebook\', \'twitter\'].indexOf(field) < 0">{{(dates.indexOf(field) > -1) ? (fullDistrict[field]|date:\'shortDate\') : fullDistrict[field]|capitalize}}</span> <span ng-if="field === \'state\'">{{fullDistrict.state|uppercase}}</span><div ng-if="field === \'website\'"><a ng-if="fullDistrict.website" ng-href="{{fullDistrict.website.url}}" target="_blank" data-toggle="tooltip" title="view website">{{fullDistrict.website.subdomain}}</a> <button ng-click="editWebsite()" class="btn btn-default pull-right"><i class="glyphicon glyphicon-pencil"></i></button></div><div ng-if="field === \'facebook\'"><div ng-if="!display.editFacebook"><span ng-if="fullDistrict.facebookSeed"><a ng-href="https://facebook.com/{{fullDistrict.facebookSeed.facebook.id}}" target="_blank" data-toggle="tooltip" title="view on facebook">{{fullDistrict.facebookSeed.facebook.name}}</a></span> <span ng-if="!fullDistrict.facebookSeed && fullDistrict.facebookAccount" style="color: red">* please select facebook page *</span> <button ng-click="editFacebook()" class="btn btn-default pull-right"><i class="glyphicon glyphicon-pencil"></i></button></div><div ng-if="display.editFacebook"><div class="row"><div class="col-xs-10"><div class="input-group"><input ng-model="params.facebookQuery" type="text" class="form-control" placeholder="Search for facebook page or group." required> <span class="input-group-btn"><button ng-click="searchFacebook()" class="btn btn-success" type="submit"><i class="glyphicon glyphicon-search"></i></button></span></div></div><div class="col-xs-2"><button ng-click="cancelEditFacebook()" class="btn btn-default pull-right" type="button">cancel</button></div></div></div></div><div ng-if="field === \'twitter\'"><a ng-if="fullDistrict.twitterSeed" ng-href="https://twitter.com/search?f=tweets&q={{getQuery(fullDistrict.twitterSeed.twitter.query)}}" target="_blank" data-toggle="tooltip" title="view on twitter">{{fullDistrict.twitterSeed.twitter.query}}</a> <button ng-click="editTwitter()" class="btn btn-default pull-right"><i class="glyphicon glyphicon-pencil"></i></button></div></td></tr></tbody></table></div><div ng-if="display.facebookResults"><div class="row" style="margin: auto"><button ng-if="!status.processing" ng-click="cancelEditFacebook()" class="btn btn-default pull-left" style="margin-bottom: 10px"><i class="glyphicon glyphicon-arrow-left"></i> back to district info</button></div><uib-tabset ng-if="facebookResults && !status.processing" style="margin: 10px"><uib-tab data-ng-repeat="resultType in [\'pages\', \'groups\']" heading="{{resultType|capitalize}}"><div data-ng-if="facebookResults[resultType] && !facebookResults[resultType].length" class="alert alert-warning" style="margin-top:10px">Sorry, we did not find any {{resultType}}.</div><p data-ng-if="facebookResults[resultType] && facebookResults[resultType].length" class="text-center" style="margin: 15px 0">Click to select the <em>{{fullDistrict.name}} Facebook {{resultType.slice(0, resultType.length-1)}}</em>.</p><div ng-repeat="result in facebookResults[resultType]"><a ng-href="https://facebook.com/{{result.id}}" class="pull-right text-info" target="_blank"><small>view on facebook</small> <i class="glyphicon glyphicon-new-window"></i></a> <button ng-click="selectFacebook(result, resultType)" class="btn btn-block btn-default" style="margin-bottom: 15px; padding: 4px 8px; overflow: hidden"><div class="row text-left" style="margin: auto"><h4 style="white-space: normal; margin: 2px 0 5px">{{result.name}} <small class="text-muted">- {{result.privacy ? (result.privacy === \'OPEN\' ? \'Public Group\' : \'Closed Group\') : result.category}}</small></h4><div class="col-xs-4" style="padding: 0; margin-bottom: 5px; overflow: hidden; max-height: 120px"><img data-ng-if="result.cover && result.cover.source" style="width: 100%" data-ng-src="{{result.cover.source}}"><div data-ng-if="!result.cover || !result.cover.source" style="background-color: #eeeeee; width: 100%; min-height: 80px"></div></div><p class="col-xs-8" style="padding: 0 0 0 10px; white-space: normal; margin-bottom: 0" data-ng-if="result.about || result.description">{{((result.about || result.description)|limitTo:200) + ((result.about || result.description).length > 200 ? \'...\' : \'\')}}</p></div></button></div></uib-tab></uib-tabset></div></div><div class="modal-footer"><div ng-if="!display.facebookResults"><div class="row" style="margin: 0"><div class="col-xs-6" style="padding: 0 2px 0 0"><button class="btn btn-block btn-success" ng-click="save()">Save</button></div><div class="col-xs-6" style="padding: 0 2px 0 0"><button class="btn btn-block btn-danger" ng-click="delete()">Delete</button></div></div><div ng-if="confirmDelete" class="alert alert-danger text-center" style="margin-top: 10px"><p>Are you sure you want to delete this district?</p><div class="btn-group" style="margin-top:10px"><button class="btn btn-danger" ng-click="delete(true)">Yes</button> <button class="btn btn-default" ng-click="delete()">No</button></div></div></div></div>'),a.put("modules/main/districts/view.html",'<div class="container"><div class="container"><button ng-click="create()" class="btn btn-success pull-right" style="margin: 0 2px">Create</button> <button ng-click="download()" class="btn btn-default pull-right" style="margin: 0 2px">Download</button></div><h1 class="text-center">Districts</h1><div ng-if="!status.processingStates"><label>State:</label><select ng-model="filterBy.state" class="form-control" style="cursor: pointer; max-width: 300px"><option value="{{null}}">ALL</option><option ng-repeat="state in filterByStates" value="{{state._id}}">{{state._id|uppercase}}&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;{{state.districtCount}} districts</option></select></div><div ng-if="filterBy.state && !status.processingCounties"><label>County:</label><select ng-model="filterBy.county" class="form-control" style="cursor: pointer; max-width: 300px"><option value="{{null}}">ALL</option><option ng-repeat="county in filterByCounties" value="{{county._id}}">{{county._id|capitalize}}&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;{{county.districtCount}} districts</option></select></div><div ng-show="status.errorMessages.length" class="container"><div ng-repeat="error in status.errorMessages" class="alert alert-danger" style="margin-bottom: 2px"><span class="close" ng-click="closeErrorMessage($index)">&times;</span> {{error}}</div></div><table class="table table-bordered table-hover" style="margin-top: 15px"><thead><th class="hidden-xs" ng-repeat="field in fields">{{field|capitalize}}</th><th class="visible-xs">Name<br><span class="text-info">County, State</span></th></thead><tbody><tr ng-repeat="district in districts" ng-class="{\'last-row\': $last}" ng-click="edit(district)" style="cursor:pointer"><td ng-repeat="field in fields" class="hidden-xs"><div ng-if="[\'state\', \'website\', \'facebook\', \'twitter\'].indexOf(field) < 0">{{(dates.indexOf(field) > -1) ? (district[field]|date:\'shortDate\') : district[field]|capitalize}}</div><div ng-if="field === \'state\'">{{district.state|uppercase}}</div><div ng-if="field === \'website\'"><i ng-if="district.website" class="glyphicon glyphicon-ok"></i></div><div ng-if="field === \'facebook\'"><i ng-if="district.facebookSeed" class="glyphicon glyphicon-ok"></i> <i ng-if="!district.facebookSeed && district.facebookAccount" class="glyphicon glyphicon-asterisk"></i></div><div ng-if="field === \'twitter\'"><i ng-if="district.twitterSeed" class="glyphicon glyphicon-ok"></i></div></td><td class="visible-xs">{{district.name}}<br><span class="text-info">{{district.county|capitalize}} County, {{district.state|uppercase}}</span></td></tr></tbody></table><div ng-if="!status.processingDistricts && !districts.length" class="text-center">- No Districts -<br>( state={{filterBy.state}} / county={{filterBy.county}} )</div><div ng-if="status.processingDistricts" class="spinner"></div></div>'),a.put("modules/main/home/view.html",'<div class="text-center" style="margin-bottom: 20px"><h1>Signal in the Noise</h1><h4 style="color:gray">A Preva Group Project</h4></div><div class="jumbotron" style="margin-bottom: 0; background-color:lightblue"><div class="container"><h1>Signals</h1><p>Some information about the project...</p></div></div><div class="jumbotron" style="margin-bottom: 0; background-color:lightsteelblue"><div class="container"><h1>Noise</h1><p>Sometimes it is noisy.</p></div></div><div class="jumbotron" style="margin-bottom: 0; background-color:lightskyblue"><div class="container"><h1>More</h1><p>More stuff...</p></div></div>'),a.put("modules/main/social-media/download/form/districts.by.state.html",'<div ng-if="status.processing" class="spinner"></div><div ng-show="status.errorMessage" class="alert alert-danger" role="alert">{{status.errorMessage}}</div><div ng-if="!status.processing && !status.errorMessage" class="container" style="margin-bottom: 10px"><p>Download social media data for all school districts in a specific state.<br><small class="text-muted" style="margin-left: 10px">- This only includes data from the social media accounts tied to each school district.<br></small> <small class="text-muted" style="margin-left: 10px">- See the \'Districts\' table for more information on which districts have social media accounts.</small></p><div class="row"><form role="form" class="form-inline"><div class="form-group"><label class="text-right" style="width:40px">State:</label><select ng-model="params.state" class="form-control" style="cursor: pointer; width: 180px; margin-left: 5px"><option ng-repeat="state in states" value="{{state._id}}">{{state._id|uppercase}}</option></select></div></form></div></div><hr ng-if="params.state"><div ng-if="params.state" class="container"><p>Which time period do you want to download data for?<br><small class="text-muted" style="margin-left: 10px">- Select a start date and an end date.</small></p><div class="row" style="margin-bottom: 10px; width: auto"><form role="form" class="form-inline"><div class="form-group"><label class="text-right" style="width:40px">Start:</label><input ng-model="params.minDate" type="date" required class="form-control" style="cursor: pointer; width: 180px; margin-left: 5px"></div></form></div><div class="row"><form role="form" class="form-inline"><div class="form-group"><label class="text-right" style="width:40px">End:</label><input ng-model="params.maxDate" type="date" required class="form-control" style="cursor: pointer; width: 180px; margin-left: 5px"></div></form></div></div>'),a.put("modules/main/social-media/download/form/skip.limit.html",'<div class="container"><p>Download recent social media data via skip/limit query.<br><small class="text-muted" style="margin-left: 10px">- <em>skip=0, limit=100</em> = Return the 100 most recent social media documents.<br></small> <small class="text-muted" style="margin-left: 10px">- <em>skip=100, limit=100</em> = Skip the 100 most recent documents and return the next 100.</small></p><div class="row" style="margin-bottom: 10px; width: auto"><form role="form" class="form-inline"><div class="form-group"><label class="text-right" style="width:40px">Skip:</label><input type="number" class="form-control" required style="cursor: pointer; width: 180px; margin-left: 5px" ng-model="params.skip"></div></form></div><div class="row"><form role="form" class="form-inline"><div class="form-group"><label class="text-right" style="width:40px">Limit:</label><input type="number" class="form-control" required style="cursor: pointer; width: 180px; margin-left: 5px" ng-model="params.limit"></div></form></div></div><hr><div class="container"><p>Which time period do you want to download data for?<br><small class="text-muted" style="margin-left: 10px">- Select a start date and an end date.</small></p><div class="row" style="margin-bottom: 10px; width: auto"><form role="form" class="form-inline"><div class="form-group"><label class="text-right" style="width:40px">Start:</label><input ng-model="params.minDate" type="date" required class="form-control" style="cursor: pointer; width: 180px; margin-left: 5px"></div></form></div><div class="row"><form role="form" class="form-inline"><div class="form-group"><label class="text-right" style="width:40px">End:</label><input ng-model="params.maxDate" type="date" required class="form-control" style="cursor: pointer; width: 180px; margin-left: 5px"></div></form></div></div>'),a.put("modules/main/social-media/download/view.html",'<div class="modal-header"><span class="close" ng-click="cancel()">&times;</span><h3 class="modal-title">Download Social Media Data</h3></div><div class="modal-body" style="background-color: whitesmoke"><uib-tabset active="activeTabIndex"><uib-tab ng-repeat="tab in tabs" index="$index" heading="{{(tab.display) ? tab.display : tab.name|capitalize}}"><div ng-include="\'modules/main/social-media/download/form/\'+tab.name+\'.html\'" style="background-color: white; border: 1px #ddd solid; padding: 15px 10px; border-top-color: transparent; margin-bottom: 15px"></div></uib-tab></uib-tabset></div><div class="modal-footer"><div ng-hide="status.processing || (activeTab.name === \'districts.by.state\' && !params.state)" class="text-center"><button class="btn btn-success" ng-click="download()">Download</button></div></div>'),a.put("modules/main/social-media/read/view.html",'<div class="modal-header"><span class="close" ng-click="cancel()">&times;</span><h3 class="modal-title">Social Media Doc</h3></div><div class="modal-body"><div ng-if="status.errorMessage" class="alert alert-danger" role="alert">{{status.errorMessage}}</div><div ng-if="status.processing" class="spinner"></div><table class="table table-bordered"><tbody><tr ng-repeat="field in fields"><td><strong>{{field}}</strong></td><td><span ng-if="[\'text\', \'seed\', \'data\', \'ngrams\'].indexOf(field) < 0">{{(dates.indexOf(field) > -1 && mediaDoc[field]) ? ((mediaDoc[field]|date:\'shortDate\')+\' | \'+(mediaDoc[field]|date:\'shortTime\')) : mediaDoc[field]}}</span> <span ng-if="field === \'text\'"><span ng-if="mediaDoc.platform === \'facebook\'"><a ng-if="mediaDoc.data && mediaDoc.data.id" ng-href="https://facebook.com/{{mediaDoc.data.id}}" target="_blank" data-toggle="tooltip" title="view on facebook">{{mediaDoc.text}}</a> <span ng-if="!mediaDoc.data || !mediaDoc.data.id">{{mediaDoc.text}}</span></span> <span ng-if="mediaDoc.platform === \'twitter\'"><a ng-if="mediaDoc.data && mediaDoc.data.user && mediaDoc.data.user.screen_name && mediaDoc.data.id_str" ng-href="https://twitter.com/{{mediaDoc.data.user.screen_name}}/status/{{mediaDoc.data.id_str}}" target="_blank" data-toggle="tooltip" title="view on twitter">{{mediaDoc.text}}</a> <span ng-if="!mediaDoc.data || !mediaDoc.data.user || !mediaDoc.data.user.screen_name || !mediaDoc.data.id">{{mediaDoc.text}}</span></span> <span ng-if="[\'facebook\', \'twitter\'].indexOf(mediaDoc.platform) < 0">{{mediaDoc.text}}</span></span> <span ng-if="field === \'seed\'">{{mediaDoc.socialseed.title}}</span> <small ng-if="field === \'data\'">* see below</small> <small ng-if="field === \'ngrams\' && mediaDoc.ngramsProcessed">* see below</small></td></tr></tbody></table><div class="row" style="margin: 0 0 10px"><div class="col-xs-6" style="padding: 0 2px 0 0"><button class="btn btn-block btn-default" ng-click="toggleData()">{{(!showData) ? \'show data\' : \'hide data\'}} (raw post or tweet)</button></div><div ng-if="mediaDoc.ngrams" class="col-xs-6" style="padding: 0 2px 0 0"><button class="btn btn-block btn-default" ng-click="toggleNgrams()">{{(!showMeta) ? \'show ngrams\' : \'hide ngrams\'}}</button></div></div><pre ng-if="showData && mediaDoc.data">\n        {{getDataAsJSON()}}\n    </pre><div ng-if="showData && !mediaDoc.data" class="well text-center">- no data -</div><pre ng-if="showNgrams && mediaDoc.ngramsProcessed">\n        {{getNgramsAsJSON()}}\n    </pre><div ng-if="showNgrams && !mediaDoc.ngramsProcessed" class="well text-center">- no ngrams -</div></div>'),a.put("modules/main/social-media/view.html",'<div class="container"><button ng-click="download()" class="btn btn-success pull-right" style="margin-bottom: 5px">Download</button></div><h1 class="text-center">Social Media</h1><div class="container text-center"><div class="btn-group"><button ng-model="filterBy.type" class="btn btn-filter" uib-btn-radio="\'all\'">All <span class="badge" ng-if="summary.all" ng-bind="summary.all|roughNumber"></span></button></div><div class="btn-group"><button ng-model="filterBy.type" class="btn btn-filter" uib-btn-radio="\'ngrams\'">Ngrams <span class="badge" ng-if="summary.ngrams" ng-bind="summary.ngrams|roughNumber"></span></button></div><div class="btn-group"><button ng-model="filterBy.type" class="btn btn-filter" uib-btn-radio="\'sentiment\'">Sentiment <span class="badge" ng-if="summary.sentiment" ng-bind="summary.sentiment|roughNumber"></span></button></div><div class="btn-group"><button ng-model="filterBy.type" class="btn btn-filter" uib-btn-radio="\'facebook\'">Facebook <span class="badge" ng-if="summary.facebook" ng-bind="summary.facebook|roughNumber"></span></button> <button ng-model="filterBy.type" class="btn btn-filter" uib-btn-radio="\'instagram\'">Instagram <span class="badge" ng-if="summary.instagram" ng-bind="summary.instagram|roughNumber"></span></button> <button ng-model="filterBy.type" class="btn btn-filter" uib-btn-radio="\'twitter\'">Twitter <span class="badge" ng-if="summary.twitter" ng-bind="summary.twitter|roughNumber"></span></button></div><div ng-if="status.processingSummary" class="btn-group"><div class="spinner" style="height: 10px; width: 10px; margin: auto"></div></div><div ng-show="status.errorMessageSummary" class="alert alert-danger" style="margin: 10px 10% 0; width: 80%" role="alert">{{status.errorMessageSummary}}</div></div><div class="container" style="margin-top: 15px"><table class="table table-bordered table-hover"><thead><th ng-repeat="field in fields" class="hidden-xs">{{field|capitalize}}</th><th class="visible-xs"><span class="text-info">Text</span><br>Social Seed (Platform)</th></thead><tbody><tr ng-repeat="doc in media" ng-init="parentIndex = $index" ng-class="{\'last-row\': $last}" ng-click="read(doc)" style="cursor:pointer"><td ng-repeat="field in fields" class="hidden-xs"><div ng-if="[\'no\', \'text\', \'seed\', \'ngrams\', \'sentiment\'].indexOf(field) < 0"><span ng-if="dates.indexOf(field) < 0">{{doc[field]}}</span> <span ng-if="dates.indexOf(field) > -1">{{doc[field]|date:\'shortDate\'}}<br>{{doc[field]|date:\'shortTime\'}}</span></div><div ng-if="field === \'no\'">{{parentIndex+1}}</div><div ng-if="field === \'text\'">{{(doc.text && doc.text.length > 200) ? doc.text.slice(0, 200)+\'...\' : doc.text}}</div><div ng-if="field === \'seed\'">{{doc.socialseed.title}}</div><div ng-if="field === \'ngrams\'"><i ng-if="doc.ngramsProcessed" class="glyphicon glyphicon-ok"></i></div><div ng-if="field === \'sentiment\'">{{doc.sentiment|percentage}}</div></td><td class="visible-xs"><span class="text-info">{{(doc.text && doc.text.length > 10) ? doc.text.slice(0, 100) : doc.text}}</span><br>{{doc.socialseed.title}} ({{doc.platform}})</td></tr></tbody></table><div ng-if="status.errorMessage" class="alert alert-danger" role="alert">{{status.errorMessage}}</div><div ng-if="status.processing" class="spinner"></div></div>'),a.put("modules/main/social-seeds/create/form/facebook.html",'<div ng-if="status.processing" class="spinner"></div><div ng-show="status.errorMessage" class="alert alert-danger" role="alert">{{status.errorMessage}}</div><div ng-if="status.step === 1"><form ng-if="!status.processing" ng-submit="searchFacebook()"><label>search facebook</label><div class="input-group"><input type="text" class="form-control" required ng-model="seed.facebook.query" placeholder="group or page"> <span class="input-group-btn"><button class="btn btn-success" type="submit"><i class="glyphicon glyphicon-search"></i></button></span></div></form><uib-tabset ng-if="facebookResults && !status.processing" active="activeFacebookResultType" style="margin: 10px"><uib-tab data-ng-repeat="resultType in facebookResultTypes" ng-click="setActiveFacebookResultType(resultType)" index="$index" heading="{{resultType|capitalize}}"><div data-ng-if="facebookResults[resultType] && !facebookResults[resultType].length" class="alert alert-warning" style="margin-top:10px">Sorry, we did not find any {{resultType}}.</div><p data-ng-if="facebookResults[resultType] && facebookResults[resultType].length" class="text-center" style="margin: 5px">Click to select a {{resultType.slice(0, resultType.length-1)}}.</p><button data-ng-repeat="result in facebookResults[resultType]" data-ng-click="selectFacebook(result)" class="btn btn-block btn-default" style="margin-bottom: 5px; padding: 4px 8px; overflow: hidden"><div class="row text-left" style="margin: auto"><h4 style="white-space: normal; margin: 2px 0 5px">{{result.name}} <small class="text-muted">- {{result.privacy ? (result.privacy === \'OPEN\' ? \'Public Group\' : \'Closed Group\') : result.category}}</small></h4><div class="col-xs-4" style="padding: 0; margin-bottom: 5px; overflow: hidden; max-height: 120px"><img data-ng-if="result.cover && result.cover.source" style="width: 100%" data-ng-src="{{result.cover.source}}"><div data-ng-if="!result.cover || !result.cover.source" style="background-color: #eeeeee; width: 100%; min-height: 80px"></div></div><p class="col-xs-8" style="padding: 0 0 0 10px; white-space: normal; margin-bottom: 0" data-ng-if="result.about || result.description">{{((result.about || result.description)|limitTo:200) + ((result.about || result.description).length > 200 ? \'...\' : \'\')}}</p></div></button></uib-tab></uib-tabset></div><div ng-if="status.step === 2"><button ng-if="facebookResults && !status.processing && status.step === 2" ng-click="step1Facebook()" class="btn btn-default pull-left" style="margin-bottom: 10px"><i class="glyphicon glyphicon-arrow-left"></i> back to search results</button><table class="table table-bordered"><tbody><tr><td><strong>Title</strong></td><td><a ng-href="https://facebook.com/{{seed.facebook.id}}" target="_blank" data-toggle="tooltip" title="view on facebook">{{seed.facebook.name}}</a></td></tr><tr><td><strong>Pull Frequency</strong></td><td><select class="form-control" required ng-model="seed.frequency"><option value="hourly">hourly</option><option value="daily">daily</option><option value="weekly">weekly</option></select></td></tr></tbody></table><div style="text-align: center"><button class="btn btn-success" ng-click="save()">Create Facebook Seed</button></div><div style="text-align: center; margin-top: 10px"><button class="btn btn-default" ng-click="saveAndStep1Facebook()">Create Seed & Back To Results</button></div></div>'),a.put("modules/main/social-seeds/create/form/instagram.html",'<form ng-submit="save()">Instagram social seeds have not been setup yet.</form>'),a.put("modules/main/social-seeds/create/form/twitter.html",'<form ng-submit="save()"><div class="form-group"><label>query string</label><div class="input-group"><input type="text" class="form-control" required ng-model="seed.twitter.query" placeholder="@username or #hashtag"> <span class="input-group-btn"><a href="https://dev.twitter.com/rest/public/search" target="_blank" class="btn btn-default"><i class="glyphicon glyphicon-question-sign"></i></a></span></div></div><div class="form-group"><label>pull frequency</label><select class="form-control" required ng-model="seed.frequency"><option value="hourly">hourly</option><option value="daily">daily</option><option value="weekly">weekly</option></select></div><div style="text-align: center"><button class="btn btn-success" type="submit">Create Twitter Seed</button></div></form>'),
a.put("modules/main/social-seeds/create/view.html",'<div class="modal-header"><span class="close" ng-click="cancel()">&times;</span><h3 class="modal-title">Create Social Seed</h3></div><div class="modal-body"><uib-tabset active="activePlatform"><uib-tab ng-repeat="platform in platforms" index="$index" heading="{{platform|capitalize}}"><div ng-include="\'modules/main/social-seeds/create/form/\'+platform+\'.html\'" style="border: 1px #ddd solid; padding: 15px 10px; border-top-color: transparent; margin-bottom: 15px"></div></uib-tab></uib-tabset></div>'),a.put("modules/main/social-seeds/edit/view.html",'<div class="modal-header"><span class="close" ng-click="cancel()">&times;</span><h3 class="modal-title">Edit Social Seed</h3></div><div class="modal-body"><table class="table table-bordered"><tbody><tr ng-repeat="field in fields"><td><strong>{{field|capitalize}}</strong></td><td><span ng-if="[\'title\', \'type\', \'frequency\'].indexOf(field) < 0">{{(dates.indexOf(field) > -1) ? (seed[field]|date:\'shortDate\') : seed[field]}}</span> <span ng-if="field === \'title\' && seed.facebook"><a ng-if="seed.facebook.id" ng-href="https://facebook.com/{{seed.facebook.id}}" target="_blank" data-toggle="tooltip" title="view on facebook">{{seed.title}}</a> <span ng-if="!seed.facebook.id">{{seed.title}}</span></span> <span ng-if="field === \'title\' && seed.twitter"><a ng-if="seed.twitter.query && seed.twitter.type !== \'geocode\'" ng-href="https://twitter.com/search?f=tweets&q={{getQuery(seed.twitter.query)}}" target="_blank" data-toggle="tooltip" title="view on twitter">{{seed.title}}</a> <span ng-if="!seed.twitter.query || seed.twitter.type === \'geocode\'">{{seed.title}}</span></span> <span ng-if="field === \'type\'">{{seed[seed.platform].type}}</span> <span ng-if="field === \'frequency\'"><select class="form-control" style="cursor:pointer" required ng-model="seed.frequency"><option value="hourly">hourly</option><option value="daily">daily</option><option value="weekly">weekly</option><option value="never">never</option></select></span></td></tr></tbody></table><div class="text-center"><a ng-if="!showHistory" ng-click="toggleHistory()" style="cursor:pointer">View Pull History</a> <a ng-if="showHistory" ng-click="toggleHistory()" style="cursor:pointer">Hide Pull History</a></div><div ng-if="showHistory"><div class="well" style="margin: 5px 0"><p ng-if="!fullSeed.$resolved" class="text=center">...please wait...</p><p ng-if="fullSeed.$resolved && !fullSeed.history || !fullSeed.history.length" class="text-center">- no pull history -</p><table ng-if="fullSeed.$resolved && fullSeed.history && fullSeed.history.length" class="table"><thead><th>Date</th><th>New Media</th><th>Total Media</th></thead><tbody><tr ng-repeat="history in fullSeed.history"><td>{{history.date|date}}</td><td>{{history.new}}</td><td>{{history.total}}</td></tr></tbody></table></div></div></div><div class="modal-footer"><div class="row" style="margin: 0"><div class="col-xs-6" style="padding: 0 2px 0 0"><button class="btn btn-block btn-success" ng-click="save()">Save</button></div><div class="col-xs-6" style="padding: 0 2px 0 0"><button class="btn btn-block btn-danger" ng-click="delete()">Delete</button></div></div><div ng-if="confirmDelete" class="alert alert-danger text-center" style="margin-top: 10px"><p>Are you sure you want to delete this social seed?</p><div class="btn-group" style="margin-top:10px"><button class="btn btn-danger" ng-click="delete(true)">Yes</button> <button class="btn btn-default" ng-click="delete()">No</button></div></div></div>'),a.put("modules/main/social-seeds/view.html",'<div class="container"><div class="container"><button ng-click="create()" class="btn btn-success pull-right">Create</button></div><h1 class="text-center">Social Seeds</h1><div class="text-center" style="margin: 5px 0"><div class="btn-group"><button ng-repeat="status in filterByStatuses" ng-model="filterBy.status" class="btn" ng-class="{\'btn-filter\': platform !== \'all\'}" uib-btn-radio="status">{{status|capitalize}} <span class="badge" ng-if="summary[status]" ng-bind="summary[status]|roughNumber"></span></button></div></div><div class="text-center" style="margin: 5px 0"><div class="btn-group"><button ng-repeat="platform in filterByPlatforms" ng-model="filterBy.platform" class="btn" ng-class="{\'btn-filter\': platform !== \'all\'}" uib-btn-radio="platform">{{platform|capitalize}} <span class="badge" ng-if="summary[platform]" ng-bind="summary[platform]|roughNumber"></span></button></div></div><div ng-if="filterBy.platform && filterBy.platform !== \'all\'" class="text-center" style="margin: 5px 0"><div class="btn-group"><button ng-repeat="type in filterByTypes[filterBy.platform]" ng-model="filterBy.type" class="btn" ng-class="{\'btn-filter\': type !== \'all\'}" uib-btn-radio="type">{{type|capitalize}} <span class="badge" ng-if="summary[filterBy.platform+\'-\'+type]" ng-bind="summary[filterBy.platform+\'-\'+type]|roughNumber"></span> <span class="badge" ng-if="type === \'all\' && summary[filterBy.platform]" ng-bind="summary[filterBy.platform]|roughNumber"></span></button></div></div><table class="table table-bordered table-hover" style="margin-top: 15px"><thead><th class="hidden-xs" ng-repeat="field in fields">{{field|capitalize}}</th><th class="visible-xs">Title<br><span class="text-info">Platform</span></th></thead><tbody><tr ng-repeat="seed in seeds" ng-class="{\'last-row\': $last}" ng-click="edit(seed)" style="cursor:pointer"><td ng-repeat="field in fields" class="hidden-xs"><div ng-if="[\'type\'].indexOf(field) < 0">{{(dates.indexOf(field) > -1) ? (seed[field]|date:\'shortDate\') : seed[field]}}</div><div ng-if="field === \'type\'">{{seed[seed.platform].type}}</div></td><td class="visible-xs">{{seed.title}}<br><span class="text-info">{{seed.platform}}</span></td></tr></tbody></table><div ng-if="!status.processing && (!seeds || !seeds.length)" class="text-center">- No Social Seeds -<br>( status={{filterBy.status}} {{(filterBy.platform) ? \' / platform=\'+filterBy.platform : \'\'}} {{(filterBy.type) ? \' / type=\'+filterBy.type : \'\'}} )</div><div ng-if="status.processing" class="spinner"></div></div>'),a.put("modules/main/user/views/login.html",'<div style="max-width:500px; width: 100%; margin: 0 auto; padding: 15px"><h2 class="text-center">Login</h2><div class="text-center" ng-show="status.processing">...logging in...</div><form ng-submit="login()" ng-hide="status.processing"><div class="form-group"><label>email</label><input class="form-control" type="email" ng-model="user.email" required></div><div class="form-group"><label>password</label><input class="form-control" type="password" ng-model="user.password" required></div><button type="submit" class="btn btn-success">Login</button> <span class="text-info" style="margin-left: 10px" ng-show="status.message">{{status.message}}</span></form></div>'),a.put("modules/main/user/views/settings.html",'<div style="max-width:500px; width: 100%; margin: 0 auto; padding: 15px"><h2 class="text-center">Settings</h2><div class="text-center" ng-show="status.processing">...please wait...</div><div class="alert alert-success" role="alert" ng-show="status.successMessage">* {{status.successMessage}}</div><hr><div ng-if="user.$resolved"><button class="btn btn-block btn-default" ng-if="!editEmail" ng-click="showEdit(\'Email\')">Update Email Address</button><div class="well well-sm" ng-if="editEmail"><h5 class="text-center">Update Email Address</h5><p class="text-danger" style="padding-top: 5px; font-weight: bold" ng-show="status.message">* {{status.message}}</p><form ng-submit="update(\'Email\')" ng-hide="status.processing"><div class="form-group"><label>email</label><input class="form-control" type="email" ng-model="user.email" required></div><button type="submit" class="btn btn-success">save</button></form></div><button class="btn btn-block btn-default" ng-if="!editPassword" ng-click="showEdit(\'Password\')">Change Password</button><div class="well well-sm" style="margin-top: 20px" ng-if="editPassword"><h5 class="text-center">Change Password</h5><p class="text-danger" style="padding-top: 5px; font-weight: bold" ng-show="status.message">* {{status.message}}</p><form ng-submit="update(\'Password\')" ng-hide="status.processing"><div class="form-group"><label>current password</label><input class="form-control" type="password" ng-model="user.password"></div><div class="form-group"><label>new password</label><input class="form-control" type="password" ng-model="user.newPassword"></div><button type="submit" class="btn btn-success">change</button></form></div><hr><button class="btn btn-block" ng-class="{\'btn-info\': !user.twitter, \'btn-warning\': user.twitter}" ng-click="toggleTwitter()">{{user.twitter ? \'Disconnect\' : \'Connect\'}} Twitter</button> <button class="btn btn-block" ng-class="{\'btn-info\': !user.facebook, \'btn-warning\': user.facebook}" ng-click="toggleFacebook()">{{user.facebook ? \'Disconnect\' : \'Connect\'}} Facebook</button></div></div>'),a.put("modules/main/user/views/sign-up.html",'<div style="max-width:500px; width: 100%; margin: 0 auto; padding: 15px"><h2 class="text-center">Sign Up</h2><div class="text-center" ng-show="status.processing">...signing up...</div><form ng-submit="signUp()" ng-hide="status.processing"><div class="form-group"><label>email</label><input class="form-control" type="email" ng-model="user.email" required></div><div class="form-group"><label>password</label><input class="form-control" type="password" ng-model="user.password" required></div><button type="submit" class="btn btn-success">Sign Up!</button> <span class="text-info" style="margin-left: 10px" ng-show="status.message">{{status.message}}</span></form></div>'),a.put("modules/main/web-pages/view.html",'<div class="container"><div><div class="pull-right"><button class="btn btn-success" style="margin-bottom: 5px" ng-click="download()">Download CSV File</button></div><div class="btn-group"><button class="btn btn-filter" ng-model="filterBy" uib-btn-radio="\'pending\'">Pending <span class="badge" ng-if="summary.pending" ng-bind="summary.pending"></span></button> <button class="btn btn-filter" ng-model="filterBy" uib-btn-radio="\'fetched\'">Fetched <span class="badge" ng-if="summary.fetched" ng-bind="summary.fetched"></span></button> <button class="btn btn-filter" ng-model="filterBy" uib-btn-radio="\'ignored\'">Ignored <span class="badge" ng-if="summary.ignored" ng-bind="summary.ignored"></span></button> <button class="btn btn-filter" ng-model="filterBy" uib-btn-radio="\'redirected\'">Redirected <span class="badge" ng-if="summary.redirected" ng-bind="summary.redirected"></span></button> <button class="btn btn-filter" ng-model="filterBy" uib-btn-radio="\'scheduled\'">Scheduled <span class="badge" ng-if="summary.scheduled" ng-bind="summary.scheduled"></span></button> <button class="btn btn-filter" ng-model="filterBy" uib-btn-radio="\'all\'">All <span class="badge" ng-if="summary.all" ng-bind="summary.all"></span></button></div></div><h1 class="text-center">Web Pages</h1><table class="table table-bordered"><thead><th ng-repeat="field in fields" style="cursor: pointer" class="hidden-xs">{{field|capitalize}}</th><th class="visible-xs">Platform (Status)<br><span class="text-info">Web Pages Data</span></th></thead><tbody><tr ng-repeat="doc in pages" ng-class="{\'last-row\': $last}"><td ng-repeat="field in fields" class="hidden-xs"><div>{{(dates.indexOf(field) > -1) ? (doc[field]|date:\'shortDate\') : doc[field]}}</div></td><td class="visible-xs">{{doc.platform}} ({{doc.status}})<div class="text-info"><button class="btn-link" ng-click="doc.showData = !doc.showData;">{{doc.showData ? \'Hide\' : \'Show\'}}</button><pre ng-if="doc.showData">{{doc.data|json}}</pre></div></td></tr></tbody></table></div>'),a.put("modules/main/web-sites/view.html",'<div class="container"><div><button class="btn btn-success pull-right" style="margin-bottom: 5px" ng-click="create()">Create</button><div class="btn-group"><button class="btn btn-filter" ng-model="filterBy" uib-btn-radio="\'active\'">Crawl <span class="badge" ng-if="summary.crawl" ng-bind="summary.crawl"></span></button> <button class="btn btn-filter" ng-model="filterBy" uib-btn-radio="\'inactive\'">No Crawl <span class="badge" ng-if="summary.noCrawl" ng-bind="summary.noCrawl"></span></button> <button class="btn btn-filter" ng-model="filterBy" uib-btn-radio="\'active\'">Pending <span class="badge" ng-if="summary.pending" ng-bind="summary.pending"></span></button> <button class="btn btn-filter" ng-model="filterBy" uib-btn-radio="\'all\'">All <span class="badge" ng-if="summary.all" ng-bind="summary.all"></span></button></div></div><h1 class="text-center">Web Sites</h1><table class="table table-bordered table-hover"><thead><th style="cursor: pointer" class="hidden-xs" ng-repeat="field in fields" ng-click="filter(field)"><i ng-if="orderBy === field" class="pull-right glyphicon" ng-class="{\'glyphicon-triangle-top\': !reverse, \'glyphicon-triangle-bottom\': reverse}"></i> {{field|capitalize}}</th><th class="visible-xs" ng-click="filter(\'platform\')"><i class="pull-right glyphicon" ng-class="{\'glyphicon-triangle-top\': !reverse, \'glyphicon-triangle-bottom\': reverse}"></i> Platform<br><span class="text-info">Query</span></th></thead><tbody><tr ng-repeat="site in sites|orderBy:orderBy:-reverse" ng-class="{\'last-row\': $last}" ng-click="edit(site)"><td ng-repeat="field in fields" class="hidden-xs">{{(dates.indexOf(field) > -1) ? (site[field]|date:\'shortDate\') : site[field]}}</td><td class="visible-xs">{{site.platform}}<br><span class="text-info">{{site.query}}</span></td></tr></tbody></table></div>'),a.put("modules/parts/error-modal/view.html",'<div class="modal-header"><button type="button" class="close" data-ng-click="cancel()"><span aria-hidden="true">&times;</span></button><h3 class="modal-title" data-ng-bind="rejection.header"></h3></div><div class="modal-body"><p data-ng-bind-html="rejection.message"></p><p data-ng-if="rejection.status"><small class="text-muted">Error Code: {{rejection.status}}</small></p></div><div class="modal-footer" data-ng-if="rejection.retry"><button type="button" class="btn btn-default" data-ng-click="retry()">Retry</button></div>'),a.put("modules/parts/navbar/view.html",'<nav class="navbar navbar-default" style="margin-bottom: 0"><div class="container-fluid"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" ng-click="toggleNavbar()"><span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href ui-sref="home"><span class="glyphicon glyphicon-star"></span> Signal in the Noise</a></div><div class="collapse navbar-collapse" id="navbar-collapse"><ul class="nav navbar-nav" ng-if="user.username"><li ui-sref-active="active"><a href ui-sref="dashboard">Dashboard</a></li><li class="dropdown" uib-dropdown><a href="#" class="dropdown-toggle" uib-dropdown-toggle>Tables <span class="caret"></span></a><ul class="dropdown-menu" uib-dropdown-menu role="menu"><li ng-repeat="table in tables"><a href ui-sref="{{table.state}}">{{table.name}}</a></li></ul></li></ul><ul class="nav navbar-nav navbar-right"><li class="dropdown" uib-dropdown ng-if="user.username"><a href="#" class="dropdown-toggle" uib-dropdown-toggle>{{user.username}} <span class="caret"></span></a><ul class="dropdown-menu" uib-dropdown-menu role="menu"><li><a href ui-sref="user.settings">Settings</a></li><li role="separator" class="divider"></li><li><a href="#" ng-click="logout($event)">Logout</a></li></ul></li><li ui-sref-active="active" ng-if="!user.username"><a href ui-sref="user.signup">Sign Up</a></li><li ui-sref-active="active" ng-if="!user.username"><a href ui-sref="user.login">Login</a></li></ul></div></div></nav>')}]);